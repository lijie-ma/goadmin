# 应用配置
app:
  name: "goadmin"
  version: "1.0.0"
  debug: true
  port: 8080

# 数据库配置
database:
  enable: true  # 是否启用数据库
  # 主库配置
  master:
    driver: "mysql"   # postgres mysql
    host: "mysql"
    port: 3306
    username: "goadmin"
    password: "Qwert1234"
    database: "goadmin"
    charset: "utf8mb4"
    max_idle_conns: 10
    max_open_conns: 100
    conn_max_lifetime: "1h"
    log_level: "info"  # gorm log level: silent, error, warn, info

  # 从库配置（可以配置多个）
  slaves:
    - driver: "mysql"   # postgres mysql
      host: "mysql"
      port: 3306
      username: "goadmin"
      password: "Qwert1234"
      database: "goadmin"
      charset: "utf8mb4"
      max_idle_conns: 10
      max_open_conns: 100
      conn_max_lifetime: "1h"

# Redis配置
redis:
  enable: true  # 是否启用Redis
  host: "redis"
  port: 6379
  password: "Qwert1234"
  db: 0
  pool_size: 100
  min_idle_conns: 10
  dial_timeout: "5s"
  read_timeout: "3s"
  write_timeout: "3s"
  pool_timeout: "4s"
  idle_timeout: "300s"
  max_conn_age: "3600s"

# JWT配置
jwt:
  secret: "your-256-bit-secret"  # JWT签名密钥，至少32字节
  access_expire: "24h"           # 访问令牌过期时间
  refresh_expire: "168h"         # 刷新令牌过期时间（7天）
  issuer: "goadmin"             # 令牌签发者
  refresh_token_key: "refresh_token:" # Redis中刷新令牌的key前缀

# 日志配置
logger:
  level: "info"                    # 日志级别: debug, info, warn, error, dpanic, panic, fatal
  console: true                    # 是否输出到控制台
  json: false                      # 是否使用JSON格式
  filename: "./logs/app.log"       # 日志文件路径
  max_size: 100                    # 单个日志文件最大大小，单位MB
  max_backups: 3                   # 最大保留的旧日志文件数量
  max_age: 30                      # 保留旧日志文件的最大天数
  compress: true                   # 是否压缩旧日志文件
  caller_skip: 1                   # 调用者信息显示层级
  show_caller: true               # 是否显示调用者信息
  time_format: "2006-01-02T15:04:05Z07:00"  # 时间格式

# 文件上传配置
upload:
  enable: true                    # 是否启用文件上传
  path: "./uploads"               # 上传文件存储路径
  max_size: 10485760             # 最大文件大小（字节），默认10MB
  allowed_types:                 # 允许的文件类型
    - ".jpg"
    - ".jpeg"
    - ".png"
    - ".gif"
    - ".pdf"
    - ".doc"
    - ".docx"
    - ".xls"
    - ".xlsx"
    - ".txt"
  max_files: 10                  # 单次最多上传文件数量
